webpackJsonp([1],{Ijq8:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=n("VU/8")({name:"App"},s,!1,function(e){n("Ijq8")},null,null).exports,r=n("/ocq"),c=n("ZnLv"),i=n.n(c),o={lengthList:[4,8,12,16,20,24,28,32],baseList:[1,2,3,4,5,6,7,8,9],octaveList:[1,2,3,4,5,6,8],scaleNames:["Major","Minor","Maj-Penta","Min-Penta"]},u={data:function(){return{seqConf:o}}},d={name:"Grid",props:{length:Number,scale:Array,playNotes:Array},data:function(){return{}},methods:{testPlay:function(e){this.$emit("testPlay",e)},check:function(e,t){this.$emit("check",e,t)}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid"},[n("table",{staticClass:"note-list"},e._l(e.scale,function(t){return n("tr",{key:t.id,class:t},e._l(e.length,function(a){return n("td",{key:a.id},[n("input",{attrs:{type:"radio",name:a+"-note",id:a+"-"+t},on:{click:function(n){e.testPlay(t),e.check(a,t)}}}),e._v(" "),n("label",{attrs:{for:a+"-"+t}},[e._v("\n          "+e._s(a)+" - "+e._s(t)+"\n        ")])])}))}))])},staticRenderFns:[]};var v=n("VU/8")(d,p,!1,function(e){n("ujeY")},"data-v-f07fdc98",null).exports,h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"player"},[t("button",{on:{click:this.play}},[this._v("Play")]),this._v(" "),t("button",{on:{click:this.stop}},[this._v("Stop")])])},staticRenderFns:[]},f=n("VU/8")({name:"Player",methods:{play:function(){this.$emit("play")},stop:function(){this.$emit("stop")}},beforeUpdate:function(){}},h,!1,null,null,null).exports,m={name:"Setting",mixins:[u],data:function(){return{selectedScaleName:"Major",selectedLength:8,selectedBase:4,selectedOctave:1}},methods:{setting:function(){this.$emit("setting",this.selectedScaleName,this.selectedLength,this.selectedBase,this.selectedOctave)}},mounted:function(){this.$nextTick(function(){this.setting()})}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting"},[n("label",{attrs:{for:"scaleName"}},[e._v("Scale: ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedScaleName,expression:"selectedScaleName"}],attrs:{name:"scaleName"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedScaleName=t.target.multiple?n:n[0]}}},e._l(e.seqConf.scaleNames,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),n("label",{attrs:{for:"length"}},[e._v("Length: ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLength,expression:"selectedLength"}],attrs:{name:"length"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedLength=t.target.multiple?n:n[0]}}},e._l(e.seqConf.lengthList,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),n("label",{attrs:{for:"base"}},[e._v("Base: ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBase,expression:"selectedBase"}],attrs:{name:"base"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedBase=t.target.multiple?n:n[0]}}},e._l(e.seqConf.baseList,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),n("label",{attrs:{for:"octave"}},[e._v("Octave: ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOctave,expression:"selectedOctave"}],attrs:{name:"octave"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedOctave=t.target.multiple?n:n[0]}}},e._l(e.seqConf.octaveList,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),n("button",{on:{click:e.setting}},[e._v("Set")])])},staticRenderFns:[]},g=n("VU/8")(m,_,!1,null,null,null).exports,y=(new i.a.Synth).toMaster(),N={name:"Sequencer",components:{Grid:v,Player:f,Setting:g},data:function(){return{selectedScaleName:"",selectedLength:0,selectedBase:0,selectedOctave:0,scaleNotes:["C4","D4","E4","F4","G4","A4","B4"],scaleNotesShow:["B4","A4","G4","F4","E4","D4","C4"],playNotes:[]}},methods:{testPlay:function(e){y.triggerAttackRelease(e,"8n")},check:function(e,t){var n=e-1;if(0===this.playNotes.length)for(var a=0;a<this.selectedLength;a++)this.playNotes.push(null);this.playNotes[n]===t&&this.playNotes.splice(n,1,null),this.playNotes.splice(n,1,t),console.log(this.playNotes)},play:function(){i.a.Transport.cancel();new i.a.Sequence(function(e,t){y.triggerAttackRelease(t,"8n")},this.playNotes,"8n").start();i.a.Transport.bpm.value=150,i.a.Transport.start()},stop:function(){i.a.Transport.stop()},setting:function(e,t,n,a){var s=this;this.selectedScaleName=e,this.selectedLength=t,this.selectedBase=n,this.selectedOctave=a,this.playNotes=[],this.scaleNotes=[];var l=void 0;switch(this.selectedScaleName){case"Major":l=["C","D","E","F","G","A","B"];break;case"Minor":l=["C","D","Eb","F","G","Ab","Bb"];break;case"Maj-Penta":l=["C","D","E","G","A"];break;case"Min-Penta":l=["C","Eb","F","G","Bb"];break;default:l=["C","D","E","F","G","A","B"]}for(var r=function(e){if(e>9)return"break";l.forEach(function(t){s.scaleNotes.push(t+e)})},c=this.selectedBase;c<this.selectedBase+this.selectedOctave;c++){if("break"===r(c))break}this.scaleNotesShow=this.scaleNotes.reverse()}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sequencer"},[n("Grid",{attrs:{scale:e.scaleNotesShow,length:e.selectedLength,playNotes:e.playNotes},on:{testPlay:e.testPlay,check:e.check}}),e._v(" "),n("Player",{on:{play:e.play,stop:e.stop}}),e._v(" "),n("Setting",{on:{setting:e.setting}})],1)},staticRenderFns:[]};var k=n("VU/8")(N,b,!1,function(e){n("es1V")},"data-v-5e422298",null).exports;a.a.use(r.a);var S=new r.a({routes:[{path:"/",name:"Sequencer",component:k}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:S,components:{App:l},template:"<App/>"})},es1V:function(e,t){},ujeY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.21da7f5ec0f988a7bb40.js.map